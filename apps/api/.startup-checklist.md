# Backend Server Startup Checklist ✅

Use this checklist before starting the backend server to ensure a smooth startup.

## Prerequisites

- [ ] Docker Desktop is running
- [ ] PostgreSQL container is running (`docker compose ps`)
- [ ] Redis container is running (optional but recommended)
- [ ] `.env` file exists and is configured
- [ ] Node modules are installed (`node_modules/` exists)

## Quick Start

```bash
# Run verification script (recommended)
./scripts/verify-startup.sh

# If all checks pass:
pnpm start:dev
```

## If Server Fails to Start

### 1. Check Build Artifacts

```bash
ls -la dist/main.js
```

If missing:

```bash
rm -rf dist *.tsbuildinfo
npx nest build
```

### 2. Check Environment

```bash
# Verify .env exists
ls -la .env

# Check required variables
grep -E "DATABASE_URL|JWT_SECRET|PORT" .env
```

### 3. Check Docker Services

```bash
docker compose ps
```

If not running:

```bash
docker compose up -d
```

### 4. Test Database Connection

```bash
npx prisma db execute --stdin <<< "SELECT 1;"
```

### 5. Check for Port Conflicts

```bash
lsof -ti:3001
```

If port is in use:

```bash
kill -9 $(lsof -ti:3001)
```

## Verification Checklist

After server starts, verify:

- [ ] Server is running on http://localhost:3001
- [ ] Health check responds: `curl http://localhost:3001/api/v1/health`
- [ ] API docs accessible: http://localhost:3001/api/docs
- [ ] No error messages in console
- [ ] Database connection successful (check logs)
- [ ] WebSocket gateway initialized (check logs)

## Common Issues

| Issue                          | Solution                                 |
| ------------------------------ | ---------------------------------------- |
| "Cannot find module dist/main" | Run `npx nest build`                     |
| "Database connection failed"   | Check Docker and DATABASE_URL            |
| "Port already in use"          | Kill process: `kill -9 $(lsof -ti:3001)` |
| "Missing .env file"            | Copy from env.example                    |
| Build takes forever            | Clean: `rm -rf dist *.tsbuildinfo`       |

## Need Help?

1. 📖 [Quick Start Guide](./QUICK_START.md)
2. 🔧 [Troubleshooting Guide](./docs/TROUBLESHOOTING.md)
3. 🐛 [Startup Fix Summary](../../STARTUP_FIX_SUMMARY.md)

---

**Last Updated:** October 23, 2025  
**Status:** All systems operational ✅
